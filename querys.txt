-- total tipo votação: Sim / Não / Abstenção / Obstrução
SELECT 
vereadores.nome,
votacoes_tipo.descricao,
SUM(1) AS total
FROM  `vereadores` 
LEFT JOIN vereadores_votacoes ON ( vereadores_votacoes.id_vereador = vereadores.id ) 
LEFT JOIN projetos ON ( projetos.id = vereadores_votacoes.id_projeto ) 
LEFT JOIN votacoes_tipo ON ( votacoes_tipo.id = vereadores_votacoes.id_votacao_tipo ) 
WHERE vereadores.id = 483
GROUP BY votacoes_tipo.id
ORDER BY votacoes_tipo.id 

-- materias propostas
SELECT 
vereadores.nome,
projetos.tipo_projeto,
projetos.numero_projeto,
YEAR(projetos.data_projeto ) AS ano,
projetos.ementa
FROM  projetos
LEFT JOIN 
projetos_autores ON ( projetos_autores.id_projeto = projetos.id ) 
LEFT JOIN 
vereadores ON ( vereadores.id = projetos_autores.id_vereador )
WHERE vereadores.id = 483
ORDER BY projetos.tipo_projeto,ano

